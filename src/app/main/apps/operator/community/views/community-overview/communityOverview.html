<div id="eshl-live" class="page-layout simple right-sidenav" layout="row">
  <div class="center" flex ms-scroll>
    <!-- HEADER -->
    <div class="header md-accent-bg" layout="row" layout-align="space-around center">
      <md-divider flex="10"></md-divider>
      <div flex="50" layout="row" layout-align="start center" >
        <img src="assets/images/bos.png" width="10%" height="10%" style="min-width:40px;"/>
        <div layout="column">
          <span class="headerFont" >BOS Panel</span>
          <small class="subHeaderFont" style="margin-top: -5px; margin-left: 1px">Building Operating System GUI</small>
        </div>
      </div>

      <div flex="40" layout="row" layout-align="space-around center" >
        <div flex="40" id="weather" layout="column" layout-align="space-around center" class="timeFont"></div>
        <div flex="40" layout="column" layout-align="end center" style="margin-left: 0%">
          <span id="time" class="md-caption timeFont">{{getDate | date:'HH:mm:ss'}}</span>
          <span id="week" class="md-caption timeFont" style="padding-top: 5%">{{getDate | date:'EEE'}}</span>
          <span id="date" class="md-caption timeFont" style="padding-top: 5%">{{getDate | date:'dd/MM/yyyy'}}</span>
        </div>
        <div flex="20" class="toolbar" style="margin-left: 0%">
          <md-button class="md-icon-button sidenav-toggle" ng-click="vm.toggleSidenav('sidenav')" hide-gt-md
                     aria-label="Toggle sidenav">
            <md-icon md-font-icon="icon-menu" class="icon"></md-icon>
          </md-button>
        </div>
      </div>
    </div>

    <!-- CONTENT -->
    <div class="content">
      <md-tabs md-dynamic-height>
        <md-tab label="{{'COMMUNITY_OVERVIEW.JOINED_COMMUNITIES'|translate}}" >
          <!-- CONTENT -->
          <div class="md-padding">
          <div class="content fullpage-datatable" layout="column" flex>

            <table class="dataTable row-border hover" align="center">
              <thead >
              <tr >

                <th class="secondary-text" width="30">
                  <div class="table-header">
                    <span class="column-title"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span>
                  </div>
                </th>
                <th class="secondary-text">
                  <div class="table-header">
                    <span class="column-title"><h3>{{'COMMUNITY_OVERVIEW.COMMUNITY_NAME'|translate}}</h3></span>
                  </div>
                </th>
                <th class="secondary-text">
                  <div class="table-header">
                    <span class="column-title"><h3>{{'COMMUNITY_OVERVIEW.BUILDINGS_IN_COMMUNITY'|translate}}</h3></span>
                  </div>
                </th>
                <th class="secondary-text">
                  <div class="table-header">
                    <span class="column-title"><h3>{{'COMMUNITY_OVERVIEW.MORE_INFORMATION'|translate}}</h3></span>
                  </div>
                </th>
                <th class="secondary-text">
                  <div class="table-header">
                    <span class="column-title"><h3>{{'COMMUNITY_OVERVIEW.TIME_GRANULARITY'|translate}}</h3></span>
                  </div>
                </th>
                <th class="secondary-text">
                  <div class="table-header">
                    <span class="column-title"><h3>{{'COMMUNITY_OVERVIEW.CONNECTION_STATE'|translate}}</h3></span>
                  </div>
                </th>
                <th class="secondary-text">
                  <div class="table-header">
                    <span class="column-title"><h3>{{'COMMUNITY_OVERVIEW.AVAILABLE_ACTIONS'|translate}}</h3></span>
                  </div>
                </th>
              </tr>
              </thead>
              <tbody>
              <tr ng-repeat="community in vm.joinedCommunities" style="text-align: left">
                <td><img ng-src="{{community.image}}" class="md-avatar" alt="{{community.image}}" /></td>
                <td><h3>{{community.name}}</h3></td>
                <!--<td>{{community.householdNum}}</td>-->
                <td>
                  <ul>
                    <li ng-repeat="buildingType in community.buildingTypes">
                      <div ng-switch="buildingType.name">
                        <div ng-switch-when="Residential Building">
                          <h3>{{'COMMUNITY_OVERVIEW.RESIDENTIAL_BUILDING'|translate}}: <a href ng-click="vm.builingTypeMoreInfo(community, buildingType)"> {{buildingType.numberOfBuildings}} </a></h3>
                        </div>
                        <div ng-switch-when="Commercial Building">
                          <h3>{{'COMMUNITY_OVERVIEW.COMMERCIAL_BUILDING'|translate}}: <a href ng-click="vm.builingTypeMoreInfo(community, buildingType)"> {{buildingType.numberOfBuildings}} </a></h3>
                        </div>
                        <div ng-switch-when="Office Building">
                          <h3>{{'COMMUNITY_OVERVIEW.OFFICE_BUILDING'|translate}}: <a href ng-click="vm.builingTypeMoreInfo(community, buildingType)"> {{buildingType.numberOfBuildings}} </a></h3>
                        </div>

                      </div>
                     <!-- <h3>{{buildingType.name}}: <a href ng-click="vm.builingTypeMoreInfo(community, buildingType)"> {{buildingType.numberOfBuildings}} </a></h3>-->
                    </li>
                  </ul>
                </td>
                <td>
                  <a href ng-click="vm.communityMoreInfo(community)"><h3>{{'COMMUNITY_OVERVIEW.DETAILS'|translate}}</h3></a>

                </td>
                <td>
                  <md-radio-group ng-model="community.selectedGranularity" ng-change="vm.changeGranularity(community)" ng-repeat="granularity in community.granularites">
                    <md-radio-button value="{{granularity}}" >
                      <!--{{granularity}}-->
                      <div ng-switch="granularity">
                        <div ng-switch-when="Fifteen_minutes">
                          {{'COMMUNITY_OVERVIEW.FIFTEEN_MINUTES'|translate}}
                        </div>
                        <div ng-switch-when="Thirty_minutes">
                          {{'COMMUNITY_OVERVIEW.THIRTY_MINUTES'|translate}}
                        </div>
                        <div ng-switch-when="One_hour">
                          {{'COMMUNITY_OVERVIEW.ONE_HOUR'|translate}}
                        </div>
                        <div ng-switch-when="Two_hours">
                          {{'COMMUNITY_OVERVIEW.TWO_HOURS'|translate}}
                        </div>
                      </div>
                    </md-radio-button>
                  </md-radio-group>
                </td>
                <td ng-style="community.connectionState==='Connected'?{color: 'green'}:{color: 'red'} ">
                  <div ng-switch="community.connectionState">
                    <div ng-switch-when="Connected">
                      <h3>{{'COMMUNITY_OVERVIEW.CONNECTED'|translate}}</h3>
                    </div>
                    <div ng-switch-when="Disconnected">
                      <h3>{{'COMMUNITY_OVERVIEW.DISCONNECTED'|translate}}</h3>
                    </div>
                  </div>
                  <!--<h3>{{community.connectionState}}</h3>-->
                </td>
                <td>
                  <a ng-repeat="action in community.actions" href ng-click="vm.gotoCommunityAction(community, action,$event)">
                    <div ng-switch="action">
                      <div ng-switch-when="Leave">
                        <h3>{{'COMMUNITY_OVERVIEW.LEAVE_COMMUNITY'|translate}}</h3>
                      </div>
                      <div ng-switch-when="Disconnect">
                        <h3>{{'COMMUNITY_OVERVIEW.DISCONNECT_COMMUNITY'|translate}}</h3>
                      </div>
                      <div ng-switch-when="Connect">
                        <h3>{{'COMMUNITY_OVERVIEW.CONNECT_COMMUNITY'|translate}}</h3>
                      </div>
                      <div ng-switch-when="Jone">
                        <h3>{{'COMMUNITY_OVERVIEW.JONE_COMMUNITY'|translate}}</h3>
                      </div>
                    </div>
                   <!-- <h3> {{action}} the community</h3>-->
                  </a>

                </td>
              </tr>
              </tbody>
            </table>

          </div>
          </div>
          <!-- / CONTENT -->

        </md-tab>
        <md-tab label="{{'COMMUNITY_OVERVIEW.OTHER_COMMUNITIES'|translate}}" >

          <div class="md-padding">
            <div class="content fullpage-datatable" layout="column" flex>

              <table class="dataTable row-border hover" align="center">
                <thead >
                <tr >

                  <th class="secondary-text" width="30">
                    <div class="table-header">
                      <span class="column-title"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span>
                    </div>
                  </th>
                  <th class="secondary-text">
                    <div class="table-header">
                      <span class="column-title"><h3>{{'COMMUNITY_OVERVIEW.COMMUNITY_NAME'|translate}}</h3></span>
                    </div>
                  </th>
                  <th class="secondary-text">
                    <div class="table-header">
                      <span class="column-title"><h3>{{'COMMUNITY_OVERVIEW.BUILDINGS_IN_COMMUNITY'|translate}}</h3></span>
                    </div>
                  </th>
                  <th class="secondary-text">
                    <div class="table-header">
                      <span class="column-title"><h3>{{'COMMUNITY_OVERVIEW.MORE_INFORMATION'|translate}}</h3></span>
                    </div>
                  </th>
                  <th class="secondary-text">
                    <div class="table-header">
                      <span class="column-title"><h3>{{'COMMUNITY_OVERVIEW.AVAILABLE_ACTIONS'|translate}}</h3></span>
                    </div>
                  </th>
                </tr>
                </thead>
                <tbody>
                <tr ng-repeat="community in vm.unjoinedCommunities" style="text-align: left">
                  <td><img ng-src="{{community.image}}" class="md-avatar" alt="{{community.icon}}" /></td>
                  <td><h3>{{community.name}}</h3></td>
                  <td>
                    <ul>
                      <li ng-repeat="buildingType in community.buildingTypes">
                        <div ng-switch="buildingType.name">
                          <div ng-switch-when="Residential Building">
                            <h3>{{'COMMUNITY_OVERVIEW.RESIDENTIAL_BUILDING'|translate}}: <a href ng-click="vm.builingTypeMoreInfo(community, buildingType)"> {{buildingType.numberOfBuildings}} </a></h3>
                          </div>
                          <div ng-switch-when="Commercial Building">
                            <h3>{{'COMMUNITY_OVERVIEW.COMMERCIAL_BUILDING'|translate}}: <a href ng-click="vm.builingTypeMoreInfo(community, buildingType)"> {{buildingType.numberOfBuildings}} </a></h3>
                          </div>
                          <div ng-switch-when="Office Building">
                            <h3>{{'COMMUNITY_OVERVIEW.OFFICE_BUILDING'|translate}}: <a href ng-click="vm.builingTypeMoreInfo(community, buildingType)"> {{buildingType.numberOfBuildings}} </a></h3>
                          </div>

                        </div>
                       <!-- <h3>{{buildingType.name}}: <a href ng-click="vm.builingTypeMoreInfo(community, buildingType)"> {{buildingType.numberOfBuildings}} </a></h3> -->
                      </li>
                    </ul>
                  </td>

                  <td>
                    <a href ng-click="vm.communityMoreInfo(community)"><h3>{{'COMMUNITY_OVERVIEW.DETAILS'|translate}}</h3></a>

                  </td>
                  <td>
                    <a ng-repeat="action in community.actions" href ng-click="vm.gotoCommunityAction(community, action,$event)">
                      <!--<h3> {{action}} the community</h3>-->
                      <div ng-switch="action">
                        <div ng-switch-when="Leave">
                          <h3>{{'COMMUNITY_OVERVIEW.LEAVE_COMMUNITY'|translate}}</h3>
                        </div>
                        <div ng-switch-when="Disconnect">
                          <h3>{{'COMMUNITY_OVERVIEW.DISCONNECT_COMMUNITY'|translate}}</h3>
                        </div>
                        <div ng-switch-when="Connect">
                          <h3>{{'COMMUNITY_OVERVIEW.CONNECT_COMMUNITY'|translate}}</h3>
                        </div>
                        <div ng-switch-when="Join">
                          <h3>{{'COMMUNITY_OVERVIEW.JOIN_COMMUNITY'|translate}}</h3>
                        </div>
                      </div>
                    </a>

                  </td>
                </tr>
                </tbody>
              </table>

            </div>
          </div>
          <!-- / CONTENT -->
        </md-tab>
      </md-tabs>



    </div>

  </div>



</div>
<script src="assets/lib/jquery.simpleWeather.js"></script>
<script src="assets/lib/weather.js"></script>

<script type="text/javascript">

</script>

<style>

</style>
